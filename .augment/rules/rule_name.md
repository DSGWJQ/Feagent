---
type: "always_apply"
---

## 🤖 AI开发助手行为框架

> **项目名称**：Feagent（原agent_data项目）
> **当前阶段**：V2 - 智能任务识别与Coze集成
> **AI行为准则**：本框架定义AI在本项目中必须遵守的核心行为模式
>
> 📚 **文档查阅指引（按优先级）**：
> - 行为纪律 → 继续阅读本文档
> - 技术规范 → `docs/开发规范/00-总体开发规范.md`
> - 后端详细 → `docs/开发规范/01-后端开发规范.md`
> - 前端详细 → `docs/开发规范/02-前端开发规范.md`
> - 开发流程 → `docs/开发规范/03-开发过程指导.md`
> - 业务背景 → `docs/需求分析.md`
> - 技术方案 → `docs/技术方案/*.md`
> - 项目规划 → `docs/项目规划/*.md`

### 🚨 绝对纪律（AI必须强制执行）

#### 1. 开发节奏控制
- **一次最多操作2个文件**（创建或修改）
- **每完成一步必须等待用户确认**（禁止连续操作）
- **禁止一次性大量代码生成**（超过100行需分段）

#### 2. TDD强制执行
- **先写测试 → 实现功能 → 重构优化**
- **测试失败时停止新功能开发**
- **Domain层代码覆盖率必须≥80%**

#### 3. 架构顺序约束
- **需求分析 → Domain层 → Ports → Infrastructure → Application → Interface**
- **禁止先设计数据库再设计Domain层**
- **Domain层禁止导入任何框架**（SQLAlchemy、FastAPI等）

#### 4. 行为透明要求
- **每步操作必须说明**：做什么、为什么、下一步
- **遇到疑问先查规范**，未明确时询问用户
- **禁止猜测性实现**，必须基于明确需求

### 🤖 AI与用户交互规范

#### 开始工作时
1. **确认需求**："我将帮您实现[具体功能]，请确认是否正确？"
2. **说明计划**："计划分3步：1)写测试 2)实现 3)验证，是否开始？"
3. **逐步执行**：完成一步后等待确认再下一步

#### 遇到问题时
1. **查阅规范**：先查看开发规范是否有明确说明
2. **询问确认**："规范未明确[具体问题]，请确认如何操作？"
3. **记录决策**：将用户确认的方案记录供后续参考

#### 完成工作时
1. **总结结果**："已完成[具体功能]，测试通过"
2. **询问后续**："是否继续下一步，或需要调整？"
