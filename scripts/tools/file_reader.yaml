# æ–‡ä»¶è¯»å–å·¥å…·é…ç½®
# ç”¨äºè¯»å–æœ¬åœ°æˆ–è¿œç¨‹æ–‡ä»¶å†…å®¹

name: file_reader
description: |
  è¯»å–æ–‡ä»¶å†…å®¹ã€‚
  æ”¯æŒæ–‡æœ¬æ–‡ä»¶çš„è¯»å–ï¼Œå¯æŒ‡å®šç¼–ç æ ¼å¼ã€‚
  å¯é€‰æ‹©è¯»å–å…¨éƒ¨æˆ–æŒ‡å®šè¡ŒèŒƒå›´ã€‚
category: file
version: "1.0.0"
author: system
tags:
  - file
  - read
  - text
icon: "ğŸ“„"
shareable_scope: team

entry:
  type: builtin
  handler: file_reader

parameters:
  - name: path
    type: string
    description: æ–‡ä»¶è·¯å¾„ï¼ˆç›¸å¯¹äºå·¥ä½œç›®å½•æˆ–ç»å¯¹è·¯å¾„ï¼‰
    required: true

  - name: encoding
    type: string
    description: æ–‡ä»¶ç¼–ç 
    required: false
    default: "utf-8"
    enum:
      - utf-8
      - gbk
      - gb2312
      - ascii
      - latin-1

  - name: start_line
    type: number
    description: èµ·å§‹è¡Œå·ï¼ˆä» 1 å¼€å§‹ï¼Œå¯é€‰ï¼‰
    required: false

  - name: end_line
    type: number
    description: ç»“æŸè¡Œå·ï¼ˆåŒ…å«ï¼Œå¯é€‰ï¼‰
    required: false

  - name: max_size
    type: number
    description: æœ€å¤§è¯»å–å­—èŠ‚æ•°ï¼Œé˜²æ­¢è¯»å–è¶…å¤§æ–‡ä»¶
    required: false
    default: 1048576  # 1MB

returns:
  content:
    type: string
    description: æ–‡ä»¶å†…å®¹
  size:
    type: number
    description: æ–‡ä»¶å¤§å°ï¼ˆå­—èŠ‚ï¼‰
  line_count:
    type: number
    description: æ€»è¡Œæ•°
  encoding:
    type: string
    description: ä½¿ç”¨çš„ç¼–ç æ ¼å¼
