# HTTP è¯·æ±‚å·¥å…·é…ç½®
# ç”¨äºå‘é€ HTTP è¯·æ±‚è·å–æ•°æ®

name: http_request
description: |
  å‘é€ HTTP è¯·æ±‚è·å–æ•°æ®ã€‚
  æ”¯æŒ GETã€POSTã€PUTã€DELETE ç­‰æ–¹æ³•ã€‚
  å¯é…ç½®è¯·æ±‚å¤´ã€è¯·æ±‚ä½“å’Œè¶…æ—¶æ—¶é—´ã€‚
category: http
version: "1.0.0"
author: system
tags:
  - http
  - network
  - api
  - request
icon: "ğŸŒ"
shareable_scope: public

entry:
  type: builtin
  handler: http_request

parameters:
  - name: url
    type: string
    description: è¯·æ±‚çš„ç›®æ ‡ URLï¼Œå¿…é¡»æ˜¯å®Œæ•´çš„ HTTP/HTTPS åœ°å€
    required: true

  - name: method
    type: string
    description: HTTP è¯·æ±‚æ–¹æ³•
    required: true
    enum:
      - GET
      - POST
      - PUT
      - DELETE
      - PATCH
      - HEAD
      - OPTIONS

  - name: headers
    type: object
    description: è¯·æ±‚å¤´ï¼Œé”®å€¼å¯¹å½¢å¼
    required: false
    default: {}

  - name: body
    type: object
    description: è¯·æ±‚ä½“ï¼ˆä»… POST/PUT/PATCH æœ‰æ•ˆï¼‰
    required: false

  - name: timeout
    type: number
    description: è¯·æ±‚è¶…æ—¶æ—¶é—´ï¼ˆç§’ï¼‰
    required: false
    default: 30

  - name: follow_redirects
    type: boolean
    description: æ˜¯å¦è‡ªåŠ¨è·Ÿéšé‡å®šå‘
    required: false
    default: true

returns:
  status_code:
    type: number
    description: HTTP å“åº”çŠ¶æ€ç 
  headers:
    type: object
    description: å“åº”å¤´
  body:
    type: any
    description: å“åº”ä½“ï¼ˆJSON è‡ªåŠ¨è§£æï¼Œå¦åˆ™ä¸ºæ–‡æœ¬ï¼‰
  elapsed:
    type: number
    description: è¯·æ±‚è€—æ—¶ï¼ˆæ¯«ç§’ï¼‰
