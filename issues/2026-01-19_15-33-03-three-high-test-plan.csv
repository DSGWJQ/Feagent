id,priority,phase,area,title,description,acceptance_criteria,test_mcp,review_initial_requirements,review_regression_requirements,dev_state,review_initial_state,review_regression_state,git_state,owner,refs,notes
THP-000,P0,0,both,冻结三高测试 Charter（目标/问题/约束）,固化本机单实例三高测试的目标问题、约束与边界，作为后续压测与修复的唯一合同入口。,docs/three-high-test-plan.md 明确列出 4 个要回答的问题、外部调用禁止策略、以及单实例边界；评审确认无歧义。,AUTOSERVER,检查是否避免实现细节堆叠；确认“必须消费 SSE 到终态”的约束写清；确认不走真实外部调用。,确认后续生成的 three-high-test-report.md 与本 charter 口径一致（attempt/error_rate/baseline）。,已完成,已完成,已完成,已提交,,docs/three-high-test-plan.md:28,picked_reason:P0 charter 作为后续压测与修复合同入口，先锁定边界降低返工;done_at:2026-01-19;evidence:charter 0.3 明确边界/外部调用/SSE终态;四问在 0.2;review:initial/regression 已对照口径
THP-010,P0,1,backend,确认测试范围与端点清单（Runs/Legacy/读写/调度）,整理并锁定压测会覆盖的 API 端点与执行模式（Profile A/B），避免压测跑偏。,输出端点清单（execute/stream、create run、replay、workflow GET/PATCH、调度触发入口）；每个端点标注是否必测/抽样与原因。,AUTOSERVER,检查端点是否覆盖三高关键链路；确认不会引入真实外部调用；确认 4xx 作为契约错误单列。,在最终报告中能回溯到端点清单，并能解释 Profile A/B 差异来源。,未开始,未开始,未开始,未提交,,docs/three-high-test-plan.md:30;docs/three-high-test-plan.md:117,
THP-020,P0,2,both,实现并验证度量口径（attempt/error buckets/baseline 派生）,将 attempt、error_rate、baseline_P95 与 2x 阈值固化为可执行的统计与校验逻辑。,压测结果能按 W1-W4 分桶输出：attempt 总数、errors（按 5xx/timeout/disconnect/workflow_error 分类型）、4xx 单列、baseline_P95[class] 与 P95<=2x 判定。,AUTOSERVER,检查统计逻辑是否严格要求读 SSE 到终态；确认超时/断连未终态计为 error；确认窗口统计方法被记录。,对同一输入重复执行，统计结果在误差可接受范围内稳定；最终报告中的口径描述与实现一致。,未开始,未开始,未开始,未提交,,docs/three-high-test-plan.md:50;docs/three-high-test-report.md:17,
THP-030,P0,3,backend,准备确定性 Workload Fixtures（W1-W4）与混合权重,提供可重复的工作流样本集合，覆盖短/中/长尾/高事件密度，并可按权重抽样。,至少 4 类 fixtures 可被压测脚本选择；每类说明节点特征与预期时长区间；混合权重可配置；fixtures 不触网且可重复。,AUTOSERVER,检查每类 fixture 是否能区分瓶颈（连接占用 vs 事件密度）；确认 deterministic（随机种子/输入固定）。,在 baseline 并发下每类的 P95 可稳定复现；fixtures 变更需更新 plan/report 的 refs。,未开始,未开始,未开始,未提交,,docs/three-high-test-plan.md:88,
THP-040,P0,4,both,落地 Profile A/B 压测执行器（必须消费 SSE 到终态）,实现 Runs 模式（A）与 Legacy 模式（B）的 VU 行为模型，并统一输出可对照指标。,Profile A：create run→execute/stream(run_id)→抽样replay；Profile B：execute/stream；两者都强制消费 SSE 到终态，并输出 TTFB/events_count/bytes_count/duration/terminal_type。,AUTOSERVER,检查 SSE 解析健壮性（分片、\n\n 边界、JSON 解析失败处理）；确认断连/超时策略一致。,在小并发下 A/B 行为可稳定完成并产生可解析的原始结果文件；Profile A 的 replay 抽样能回放到终态。,未开始,未开始,未开始,未提交,,docs/three-high-test-plan.md:117,
THP-050,P0,5,both,实现 Step Load 并发爬坡与拐点判定,按规划执行 warmup/ramp/sustain（可选 spike/soak），并自动判定 stable/knee/limit。,压测支持 10→25→50→… 阶梯并发；每档至少 10 分钟；自动输出各档 error_rate 与按类 P95，并标记首次持续违反阈值的 knee 档位。,AUTOSERVER,确认每档持续时间足以覆盖 W3 多轮；拐点判定需满足“持续两个窗口”条件；避免用百分比进度。,重复跑同一爬坡配置，knee 档位在合理波动范围内（需在报告注明误差）。,未开始,未开始,未开始,未提交,,docs/three-high-test-plan.md:142,
THP-060,P0,6,both,采集并落盘关键指标（客户端/系统/DB）,完善指标采集与落盘格式，确保最终可归因与可复现。,每个 attempt 记录字段齐全（duration/TTFB/events/bytes/terminal_type 等）；系统侧至少采集 CPU/内存/连接数；Runs 模式下能输出 run_events 写入/回放抽样结果（或明确不可得并记录原因）。,AUTOSERVER,检查字段命名稳定、可被脚本解析；确认 raw 数据落盘路径与文件命名可追溯；确保不依赖网络。,最终报告能引用这些原始数据生成图表；数据字段变更必须同步更新报告模板与 refs。,未开始,未开始,未开始,未提交,,docs/three-high-test-plan.md:164;docs/three-high-test-report.md:36,
THP-070,P1,7,both,高可用验证：断连释放/回放追溯/故障注入/重启恢复,在并发压力下验证关键可用性场景，确保不会因断连或依赖抖动引发雪崩。,完成 4 类验证：SSE 随机断连后资源回落；Runs 模式断连后可 replay 到终态；stub 失败率/延迟注入下 error_rate 与 P95 行为可解释；重启后健康检查恢复时间与影响面可量化。,AUTOSERVER,确认故障注入不触网；断连场景必须记录 incomplete_rate；重启步骤需保证可重复。,在“拐点下方 1 档”并发重复执行 HA 场景，结果一致且无资源泄漏迹象。,未开始,未开始,未开始,未提交,,docs/three-high-test-plan.md:188;docs/three-high-test-report.md:59,
THP-080,P1,8,both,建立压测阻断缺陷闭环（最小复现→修复→回归门禁）,把压测过程中的 4xx/5xx/卡死/断连等问题纳入可追踪的修复与回归流程，避免反复踩坑。,形成固定流程与最小回归集：baseline 档 + 中等并发档 + 接近拐点档；每次修复后必须跑回归并记录结论；压测阻断问题能被定位到具体模块/commit。,AUTOSERVER,检查流程是否避免过度复杂；确保每次变更都有可复现步骤与日志证据（run_id/trace_id）。,最终报告列出关键修复点与其对指标的影响；回归集可重复执行且结果稳定。,未开始,未开始,未开始,未提交,,docs/three-high-test-plan.md:208,
THP-090,P2,9,both,明确记录风险与局限（防止并发结论被误用）,把单实例、SQLite 锁、stub 近似等风险写入最终报告，避免并发结论被错误外推。,three-high-test-report.md 的“风险与局限”完整覆盖：单实例不可外推、DB 类型影响、stub 配置、SSE 必须读流；并在结论摘要中给出适用范围。,AUTOSERVER,检查风险描述是否具体且可操作（告诉读者何时需要复测/怎么复测）。,在报告评审时对照实际测试环境与数据，确认无遗漏关键限制。,未开始,未开始,未开始,未提交,,docs/three-high-test-plan.md:230;docs/three-high-test-report.md:90,
THP-100,P0,10,both,生成三高测试总结报告（含 A/B 对照与图表）,汇总 baseline、爬坡、HA 与瓶颈归因，输出可提交到仓库的最终总结报告。,提交 docs/three-high-test-report.md：包含环境/口径、baseline 表、最大稳定并发与拐点、A/B 对照、图表链接或内嵌、HA 结论、瓶颈证据、优化建议（ROI 排序）与一句话摘要。,AUTOSERVER,检查报告能从原始数据复现关键数字；引用 refs 精确到 file:line；避免散文堆叠，保持合同式结论。,报告评审通过后，抽样重跑一个关键并发档验证结论不漂移；如漂移需更新报告并注明原因。,未开始,未开始,未开始,未提交,,docs/three-high-test-plan.md:238;docs/three-high-test-report.md:36;docs/three-high-test-report.md:66;docs/three-high-test-report.md:97,
