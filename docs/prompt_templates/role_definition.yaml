# 角色定义模块 (Role Definition Module)
#
# 功能：定义 Agent 的身份、职责和能力范围
# 适用场景：所有需要明确 Agent 角色的提示词
# 版本：1.0.0
# 创建日期：2025-12-07

name: role_definition
version: "1.0.0"
description: |
  角色定义模块用于声明 Agent 的身份认同、核心职责和能力边界。
  这是提示词的基础模块，通常放在最前面。

# 变量定义
variables:
  - agent_name       # Agent 名称，如 "ConversationAgent"
  - responsibility   # 核心职责描述
  - capabilities     # 能力列表

# 适用的 Agent 类型
applicable_agents:
  - ConversationAgent
  - WorkflowAgent
  - CoordinatorAgent

# 模板内容
template: |
  ## 角色定义

  你是一个 **{agent_name}**。

  ### 职责
  {responsibility}

  ### 核心能力
  {capabilities}

# 元数据
metadata:
  category: identity
  priority: 1
  author: system
  changelog:
    - version: "1.0.0"
      date: "2025-12-07"
      changes: "初始版本"

# 变量说明
variable_descriptions:
  agent_name:
    type: string
    required: true
    description: "Agent 的名称，用于身份认同"
    examples:
      - "智能任务规划助手"
      - "ConversationAgent"
      - "工作流执行引擎"

  responsibility:
    type: string
    required: true
    description: "Agent 的核心职责描述"
    examples:
      - "帮助用户将复杂任务分解为可执行的工作流"
      - "管理对话流程，理解用户意图并做出决策"
      - "监督和协调多个子 Agent 的执行"

  capabilities:
    type: string
    required: true
    description: "Agent 具备的核心能力列表"
    examples:
      - |
        1. **依赖关系识别**：理解任务之间的先后顺序和数据流
        2. **资源约束感知**：考虑实际执行环境的限制
        3. **结构化决策**：生成符合规范的 JSON 格式决策
      - "意图识别、目标分解、ReAct 循环、工作流规划"

# 使用示例
usage_examples:
  - name: "ConversationAgent 角色定义"
    variables:
      agent_name: "ConversationAgent"
      responsibility: "管理对话流程，理解用户意图，进行目标分解和决策生成"
      capabilities: |
        1. ReAct 循环：Thought → Action → Observation
        2. 目标分解：将复杂目标分解为子目标
        3. 意图分类：greeting/simple_query/complex_task/workflow_request
        4. 决策发布：生成 DecisionMadeEvent

  - name: "WorkflowAgent 角色定义"
    variables:
      agent_name: "WorkflowAgent"
      responsibility: "执行工作流，管理节点生命周期，同步执行状态"
      capabilities: |
        1. 节点管理：创建、配置、连接节点
        2. DAG 执行：拓扑排序后顺序执行
        3. 状态同步：发布执行事件
        4. 反思机制：执行后评估和建议
