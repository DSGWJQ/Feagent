# 工作流编辑器深色主题测试指南

## 📋 更新内容

已将工作流编辑器页面从浅色主题改为深色主题，参考了 v0 模板的设计风格。

### 主要更改：

1. **WorkflowEditorPage（工作流编辑器页面）**
   - 整体背景改为深黑色 (#0a0a0a)
   - 头部工具栏使用深色卡片背景 (#141414)
   - 添加渐变色图标和按钮
   - 所有文字改为中文

2. **NodePalette（节点调色板）**
   - 深色背景 (#141414)
   - 节点卡片使用深色背景 (#1a1a1a)
   - 保留彩色左边框和图标
   - 文字改为中文

3. **ReactFlow 画布**
   - 深黑色背景 (#0a0a0a)
   - 深色网格线 (#262626)
   - MiniMap 使用深色主题，彩色节点显示

4. **WorkflowAIChat（AI 聊天面板）**
   - 深色背景和卡片样式
   - 消息气泡使用深色背景
   - 用户和 AI 消息使用不同的紫色/蓝色图标

5. **NodeConfigPanel（节点配置面板）**
   - 使用 Ant Design 深色主题算法
   - 深色抽屉背景
   - 表单控件自动适配深色主题

6. **CodeExportModal（代码导出对话框）**
   - 深色模态框背景
   - 代码预览区域使用深色背景
   - 按钮使用渐变色

## 🎨 配色方案

- **主背景**: #0a0a0a (深黑色)
- **卡片背景**: #141414 (深灰色)
- **次级背景**: #1a1a1a (稍浅灰色)
- **边框**: #262626 (深灰边框)
- **文字**: #fafafa (浅色文字)
- **次级文字**: #8c8c8c (灰色文字)
- **主色调**: 紫色渐变 (#667eea → #764ba2)
- **节点颜色**: 
  - 紫色 (#8b5cf6) - Text Model, JavaScript
  - 蓝色 (#3b82f6) - HTTP Request, Embedding Model
  - 黄色 (#eab308) - Tool
  - 绿色 (#10b981) - Structured Output
  - 粉色 (#ec4899) - Prompt, Conditional
  - 青色 (#06b6d4) - Image Generation
  - 橙色 (#f97316) - Audio

## 🧪 手动测试步骤

### 1. 启动前端开发服务器

```bash
cd web
npm run dev
```

### 2. 启动后端服务

```bash
# 激活虚拟环境（如果有）
# Windows:
.venv\Scripts\activate
# Linux/Mac:
source .venv/bin/activate

# 启动后端
cd src
uvicorn main:app --reload --port 8000
```

### 3. 访问工作流编辑器

打开浏览器访问: `http://localhost:5173/workflows/test-workflow-id/edit`

### 4. 测试要点

#### 4.1 页面整体外观
- [ ] 页面背景是否为深黑色
- [ ] 头部工具栏是否为深色，带有渐变色图标
- [ ] 所有文字是否为中文
- [ ] 按钮是否使用渐变色（运行按钮）

#### 4.2 左侧节点调色板
- [ ] 调色板背景是否为深色
- [ ] 标题"节点调色板"是否为中文
- [ ] 节点卡片是否有彩色左边框
- [ ] 节点图标是否有彩色背景
- [ ] 鼠标悬停时是否有高亮效果

#### 4.3 中间画布区域
- [ ] 画布背景是否为深黑色
- [ ] 网格线是否为深灰色
- [ ] 拖拽节点到画布是否正常工作
- [ ] MiniMap 是否显示深色背景和彩色节点
- [ ] 控制按钮是否可见

#### 4.4 右侧 AI 聊天面板
- [ ] 聊天面板背景是否为深色
- [ ] 标题"AI 助手"是否为中文
- [ ] 消息气泡是否使用深色背景
- [ ] 用户和 AI 图标是否有不同颜色
- [ ] 输入框是否为深色主题
- [ ] 发送按钮是否使用渐变色

#### 4.5 节点配置面板
- [ ] 点击节点后，右侧抽屉是否打开
- [ ] 抽屉背景是否为深色
- [ ] 表单控件是否为深色主题
- [ ] "保存"和"取消"按钮是否为中文
- [ ] 保存按钮是否使用渐变色

#### 4.6 代码导出对话框
- [ ] 点击"导出代码"按钮
- [ ] 对话框背景是否为深色
- [ ] 代码预览区域是否为深色
- [ ] 按钮文字是否为中文
- [ ] "下载文件"按钮是否使用渐变色

#### 4.7 执行日志面板
- [ ] 点击"运行"按钮
- [ ] 执行日志面板是否显示深色背景
- [ ] 日志条目是否使用深色卡片样式
- [ ] 文字是否清晰可读

## 📸 预期效果

- 整体页面应该呈现专业的深色主题
- 彩色元素（节点图标、渐变按钮）应该在深色背景上突出显示
- 文字应该清晰可读，使用浅色文字
- 所有交互元素应该有明显的视觉反馈
- 右下角的 MiniMap 应该能模糊看到彩色节点

## ⚠️ 注意事项

1. 如果某些 Ant Design 组件没有正确应用深色主题，可能需要额外的 CSS 覆盖
2. 确保浏览器缓存已清除，以查看最新样式
3. 如果发现任何样式问题，请记录具体的组件和问题描述

## 🐛 问题反馈

如果测试中发现问题，请提供：
- 问题截图
- 浏览器类型和版本
- 具体的操作步骤
- 预期效果 vs 实际效果

